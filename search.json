[{"path":"https://ohdsi.github.io/RiskStratifiedEstimation/LICENSE.html","id":null,"dir":"","previous_headings":"","what":"Apache License","title":"Apache License","text":"Version 2.0, January 2004 <http://www.apache.org/licenses/>","code":""},{"path":[]},{"path":"https://ohdsi.github.io/RiskStratifiedEstimation/LICENSE.html","id":"id_1-definitions","dir":"","previous_headings":"Terms and Conditions for use, reproduction, and distribution","what":"1. Definitions","title":"Apache License","text":"“License” shall mean terms conditions use, reproduction, distribution defined Sections 1 9 document. “Licensor” shall mean copyright owner entity authorized copyright owner granting License. “Legal Entity” shall mean union acting entity entities control, controlled , common control entity. purposes definition, “control” means () power, direct indirect, cause direction management entity, whether contract otherwise, (ii) ownership fifty percent (50%) outstanding shares, (iii) beneficial ownership entity. “” (“”) shall mean individual Legal Entity exercising permissions granted License. “Source” form shall mean preferred form making modifications, including limited software source code, documentation source, configuration files. “Object” form shall mean form resulting mechanical transformation translation Source form, including limited compiled object code, generated documentation, conversions media types. “Work” shall mean work authorship, whether Source Object form, made available License, indicated copyright notice included attached work (example provided Appendix ). “Derivative Works” shall mean work, whether Source Object form, based (derived ) Work editorial revisions, annotations, elaborations, modifications represent, whole, original work authorship. purposes License, Derivative Works shall include works remain separable , merely link (bind name) interfaces , Work Derivative Works thereof. “Contribution” shall mean work authorship, including original version Work modifications additions Work Derivative Works thereof, intentionally submitted Licensor inclusion Work copyright owner individual Legal Entity authorized submit behalf copyright owner. purposes definition, “submitted” means form electronic, verbal, written communication sent Licensor representatives, including limited communication electronic mailing lists, source code control systems, issue tracking systems managed , behalf , Licensor purpose discussing improving Work, excluding communication conspicuously marked otherwise designated writing copyright owner “Contribution.” “Contributor” shall mean Licensor individual Legal Entity behalf Contribution received Licensor subsequently incorporated within Work.","code":""},{"path":"https://ohdsi.github.io/RiskStratifiedEstimation/LICENSE.html","id":"id_2-grant-of-copyright-license","dir":"","previous_headings":"Terms and Conditions for use, reproduction, and distribution","what":"2. Grant of Copyright License","title":"Apache License","text":"Subject terms conditions License, Contributor hereby grants perpetual, worldwide, non-exclusive, -charge, royalty-free, irrevocable copyright license reproduce, prepare Derivative Works , publicly display, publicly perform, sublicense, distribute Work Derivative Works Source Object form.","code":""},{"path":"https://ohdsi.github.io/RiskStratifiedEstimation/LICENSE.html","id":"id_3-grant-of-patent-license","dir":"","previous_headings":"Terms and Conditions for use, reproduction, and distribution","what":"3. Grant of Patent License","title":"Apache License","text":"Subject terms conditions License, Contributor hereby grants perpetual, worldwide, non-exclusive, -charge, royalty-free, irrevocable (except stated section) patent license make, made, use, offer sell, sell, import, otherwise transfer Work, license applies patent claims licensable Contributor necessarily infringed Contribution(s) alone combination Contribution(s) Work Contribution(s) submitted. institute patent litigation entity (including cross-claim counterclaim lawsuit) alleging Work Contribution incorporated within Work constitutes direct contributory patent infringement, patent licenses granted License Work shall terminate date litigation filed.","code":""},{"path":"https://ohdsi.github.io/RiskStratifiedEstimation/LICENSE.html","id":"id_4-redistribution","dir":"","previous_headings":"Terms and Conditions for use, reproduction, and distribution","what":"4. Redistribution","title":"Apache License","text":"may reproduce distribute copies Work Derivative Works thereof medium, without modifications, Source Object form, provided meet following conditions: () must give recipients Work Derivative Works copy License; (b) must cause modified files carry prominent notices stating changed files; (c) must retain, Source form Derivative Works distribute, copyright, patent, trademark, attribution notices Source form Work, excluding notices pertain part Derivative Works; (d) Work includes “NOTICE” text file part distribution, Derivative Works distribute must include readable copy attribution notices contained within NOTICE file, excluding notices pertain part Derivative Works, least one following places: within NOTICE text file distributed part Derivative Works; within Source form documentation, provided along Derivative Works; , within display generated Derivative Works, wherever third-party notices normally appear. contents NOTICE file informational purposes modify License. may add attribution notices within Derivative Works distribute, alongside addendum NOTICE text Work, provided additional attribution notices construed modifying License. may add copyright statement modifications may provide additional different license terms conditions use, reproduction, distribution modifications, Derivative Works whole, provided use, reproduction, distribution Work otherwise complies conditions stated License.","code":""},{"path":"https://ohdsi.github.io/RiskStratifiedEstimation/LICENSE.html","id":"id_5-submission-of-contributions","dir":"","previous_headings":"Terms and Conditions for use, reproduction, and distribution","what":"5. Submission of Contributions","title":"Apache License","text":"Unless explicitly state otherwise, Contribution intentionally submitted inclusion Work Licensor shall terms conditions License, without additional terms conditions. Notwithstanding , nothing herein shall supersede modify terms separate license agreement may executed Licensor regarding Contributions.","code":""},{"path":"https://ohdsi.github.io/RiskStratifiedEstimation/LICENSE.html","id":"id_6-trademarks","dir":"","previous_headings":"Terms and Conditions for use, reproduction, and distribution","what":"6. Trademarks","title":"Apache License","text":"License grant permission use trade names, trademarks, service marks, product names Licensor, except required reasonable customary use describing origin Work reproducing content NOTICE file.","code":""},{"path":"https://ohdsi.github.io/RiskStratifiedEstimation/LICENSE.html","id":"id_7-disclaimer-of-warranty","dir":"","previous_headings":"Terms and Conditions for use, reproduction, and distribution","what":"7. Disclaimer of Warranty","title":"Apache License","text":"Unless required applicable law agreed writing, Licensor provides Work (Contributor provides Contributions) “” BASIS, WITHOUT WARRANTIES CONDITIONS KIND, either express implied, including, without limitation, warranties conditions TITLE, NON-INFRINGEMENT, MERCHANTABILITY, FITNESS PARTICULAR PURPOSE. solely responsible determining appropriateness using redistributing Work assume risks associated exercise permissions License.","code":""},{"path":"https://ohdsi.github.io/RiskStratifiedEstimation/LICENSE.html","id":"id_8-limitation-of-liability","dir":"","previous_headings":"Terms and Conditions for use, reproduction, and distribution","what":"8. Limitation of Liability","title":"Apache License","text":"event legal theory, whether tort (including negligence), contract, otherwise, unless required applicable law (deliberate grossly negligent acts) agreed writing, shall Contributor liable damages, including direct, indirect, special, incidental, consequential damages character arising result License use inability use Work (including limited damages loss goodwill, work stoppage, computer failure malfunction, commercial damages losses), even Contributor advised possibility damages.","code":""},{"path":"https://ohdsi.github.io/RiskStratifiedEstimation/LICENSE.html","id":"id_9-accepting-warranty-or-additional-liability","dir":"","previous_headings":"Terms and Conditions for use, reproduction, and distribution","what":"9. Accepting Warranty or Additional Liability","title":"Apache License","text":"redistributing Work Derivative Works thereof, may choose offer, charge fee , acceptance support, warranty, indemnity, liability obligations /rights consistent License. However, accepting obligations, may act behalf sole responsibility, behalf Contributor, agree indemnify, defend, hold Contributor harmless liability incurred , claims asserted , Contributor reason accepting warranty additional liability. END TERMS CONDITIONS","code":""},{"path":"https://ohdsi.github.io/RiskStratifiedEstimation/LICENSE.html","id":"appendix-how-to-apply-the-apache-license-to-your-work","dir":"","previous_headings":"","what":"APPENDIX: How to apply the Apache License to your work","title":"Apache License","text":"apply Apache License work, attach following boilerplate notice, fields enclosed brackets [] replaced identifying information. (Don’t include brackets!) text enclosed appropriate comment syntax file format. also recommend file class name description purpose included “printed page” copyright notice easier identification within third-party archives.","code":"Copyright [yyyy] [name of copyright owner]  Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except in compliance with the License. You may obtain a copy of the License at    http://www.apache.org/licenses/LICENSE-2.0  Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License."},{"path":"https://ohdsi.github.io/RiskStratifiedEstimation/articles/StudyExample.html","id":"introduction","dir":"Articles","previous_headings":"","what":"Introduction","title":"Study example","text":"Generalizability overall result found study applicability specific patient move opposite directions. patients differ one another many key determinants outcome interest–consequently potential benefits harms therapy–can unclear overall average benefit-harm trade-offs actually apply. Precision medicine aims tailor treatment individual patients. , analysis heterogeneity treatment effect (HTE), .e. non-random variation direction magnitude treatment effect individuals within population, cornerstone precision medicine; goal predict optimal treatments individual level, accounting individual’s risk harm benefit outcomes. vignette describes application risk modeling predictive approach assessment treatment effect heterogeneity (HTE) using RiskStratifiedEstimation package. method involves 4 main steps summarized Figure \\(\\ref{workflow}\\): Definition problem: step need define (least) 3 essential cohorts: (1) treatment cohort, containing set patients receiving treatment treatment interest; (2) comparator cohort, containing set patients receiving comparator cohort; (3) outcome cohort(s), containing set patients outcome(s) interest. Identification database: need define database(s) assess treatment effect heterogeneity. need make sure cohorts created contain enough patients proceed application method. Prediction step: Combine treatment comparator cohorts single cohort prediction provide settings required prediction based PatientLevelPrediction package. means need define time--risk (time interval within want predict), set predictive covariates prediction algorithm used (along settings). Estimation step: Divide treatment population pre-specified number equal-sized strata based baseline risk estimate absolute relative treatment effects. RiskStratifiedEstimation package workflow","code":""},{"path":"https://ohdsi.github.io/RiskStratifiedEstimation/articles/StudyExample.html","id":"study-specification-and-database-selection","dir":"Articles","previous_headings":"","what":"Study specification and database selection","title":"Study example","text":"current demonstration consider treatments outcomes assessed Large-scale Evidence Generation Network Databases (LEGEND) study hypertension. treatment cohort contains patients hypertension diagnosis within database receive angiotensin-converting enzyme (ACE) inhibitors, followed time initiation time cessation. comaparator cohort contains set patients within database hypertension diagnosis receive beta blockers. also consider 2 outcome cohorts. first contains patients found database least one occurrence cardiovascular disease (CVD). second contains patients occurrence cough. consider CVD main outcome interest trying prevent study cough common side-effect ACE-inhibitors. Cohort definitions available online . defining problem need define database assess treatment effect heterogeneity. need make sure defined cohorts adequate size perform analysis. relevant cohorts defined. small treatment comparator cohorts reduce power analyses restricting minimum detectable differences. Due stratified approach framework aspect relevant. size outcome cohorts also important prediction estimation steps. former case, low events per variable may limit prediction performance, latter case, risk stratification may result even observed cases lower strata.","code":""},{"path":[]},{"path":"https://ohdsi.github.io/RiskStratifiedEstimation/articles/StudyExample.html","id":"cohort-instantiation","dir":"Articles","previous_headings":"Study implementation","what":"Cohort instantiation","title":"Study example","text":"Similar PLP package","code":""},{"path":"https://ohdsi.github.io/RiskStratifiedEstimation/articles/StudyExample.html","id":"study-script-creation","dir":"Articles","previous_headings":"Study implementation","what":"Study script creation","title":"Study example","text":"section assume cohorts created extracted using specific database. can proceed creation script perform defined study. part 7 types input need created: connection details anlaysis settings database settings Settnigs getting data covariate settings population settings run settings","code":""},{"path":"https://ohdsi.github.io/RiskStratifiedEstimation/articles/StudyExample.html","id":"analysis-settnigs","dir":"Articles","previous_headings":"Study implementation > Study script creation","what":"Analysis settnigs","title":"Study example","text":"analysis settings refer information define structure study can used identify . analysis id –pereferably–unique identifier present study. treatment cohort id refers unique identifier treatment cohort definition. case, \\(1001\\) refers extracted hypertensive patients receving ACE-inhibitors. comparator cohort id refers unique identifier comparator cohort. case \\(1002\\) refers extracted cohort hypertensive patients receiving beta blockers; outcome ids refer unique identifiers outcome cohorts. important characteristic analysis settings analysis matrix, dictates comparisons made. columns square boolean matrix refer risk stratification outcomes rows estimation outcomes. Therefore, default diagonal matrix defines following analyses: Within strata CVD risk estimate relative absolute treatment effects CVD events. Within strata acute myocardial infarction risk estimate relative absolute treatment effects acute myocardial infarction events. can create analysis settings using following code:","code":"analysisSettings <- createAnalysisSettings (   analysisId = \"vignette_demonstration\",   analysisType = \"stratifyByPs\",   description = \"description text\",   treatmentCohortId = 1001,   comparatorCohortId = 1002,   outcomeIds = c(131, 102),   analysisMatrix = diag(2)), verbosity = \"INFO\", saveDirectory = \"path/to/save/directory\" )"},{"path":"https://ohdsi.github.io/RiskStratifiedEstimation/articles/StudyExample.html","id":"connection-details","dir":"Articles","previous_headings":"Study implementation > Study script creation","what":"Connection details","title":"Study example","text":"need define connection details used connect database access order construct extract data objects required analyses. can created :","code":"connectionDetails <- DatabaseConnector::createConnectionDetails(   dbms = dbms,   server = server,   user = \"joe\",   password = \"secret\",   port = port )"},{"path":"https://ohdsi.github.io/RiskStratifiedEstimation/articles/StudyExample.html","id":"database-settings","dir":"Articles","previous_headings":"Study implementation > Study script creation","what":"Database settings","title":"Study example","text":"database settings contain relevant information database want access. refer database schema based extract data along tables cohorts interest stored. Note also need create table containing merged treatment comparator cohorts used derive prediction models (requires write permission). Database settings can created :","code":"databaseSettings <- createDatabaseSettings(   cdmDatabaseSchema = \"cdm_truven_mdcd_v780.dbo\",   cohortDatabaseSchema = \"Scratch.dbo\",   outcomeDatabaseSchema = \"Scratch.dbo\",   resultsDatabaseSchema = \"Scratch.dbo\",   exposureDatabaseSchema = \"Scratch.dbo\",   cohortTable = \"ace_beta_cohorts\",   outcomeTable = \"ace_beta_outcomes\",   exposureTable = \"ace_beta_cohorts\",   mergedCohortTable = \"ace_beta_merged\",   attributeDefinitionTable = \"ace_beta_def\",   cohortAttributeTable = \"ace_beta_attr\" )"},{"path":"https://ohdsi.github.io/RiskStratifiedEstimation/articles/StudyExample.html","id":"settings-for-getting-the-data","dir":"Articles","previous_headings":"Study implementation > Study script creation","what":"Settings for getting the data","title":"Study example","text":"two data objects need defined. prediction data object used derivation prediction models used risk stratify patients estimation data object used estimate propensity scores estimate treatment effects within risk strata.","code":"getDataSettings <- createGetDataSettings(   getPlpDataSettings = createGetPlpDataArgs(     washoutPeriod = 365   ),   getCmDataSettings = createGetCmDataArgs(     washoutPeriod = 365   ) )"},{"path":"https://ohdsi.github.io/RiskStratifiedEstimation/articles/StudyExample.html","id":"covariate-settings","dir":"Articles","previous_headings":"Study implementation > Study script creation","what":"Covariate settings","title":"Study example","text":"purpose covariate settings twofold. prediction step define set candidate predictors develppment model. estimation step define set candidate confounders considered esitmation propensity scores. cases use covariate settings using large set standardized covariates:","code":"covariateSettings <- createGetCovariateSettings(   covariateSettingsCm = FeatureExtraction::createCovariateSettings(     useDemographicsGender = TRUE,     useDemographicsAge = TRUE,     useConditionOccurrenceLongTerm = TRUE,     useConditionOccurrenceShortTerm = TRUE,     useDrugExposureLongTerm = TRUE,     useDrugExposureShortTerm = TRUE,     useDrugEraLongTerm = TRUE,     useDrugEraShortTerm = TRUE,     useCharlsonIndex = TRUE,     addDescendantsToExclude = TRUE,     excludedCovariateConceptIds =        excludedCovariateConceptIds,     addDescendantsToInclude = TRUE   ),   covariateSettingsPlp = FeatureExtraction::createCovariateSettings(     useDemographicsGender = TRUE,     useDemographicsAge = TRUE,     useConditionOccurrenceLongTerm = TRUE,     useConditionOccurrenceShortTerm = TRUE,     useDrugExposureLongTerm = TRUE,     useDrugExposureShortTerm = TRUE,     useDrugEraLongTerm = TRUE,     useDrugEraShortTerm = TRUE,     useCharlsonIndex = TRUE,     addDescendantsToExclude = TRUE   ) )"},{"path":"https://ohdsi.github.io/RiskStratifiedEstimation/articles/StudyExample.html","id":"population-settings","dir":"Articles","previous_headings":"Study implementation > Study script creation","what":"Population settings","title":"Study example","text":"population settings contain additional restrictions definitive target populations. case need define target population prediction step, based actually develop prediction models. estimation step population settings define population propensity score models derived treatment effects estimated. final populations may contain slightly different patients. can define population settings :","code":"populationSettings <- createPopulationSettings(   populationPlpSettings = createPopulationPlpSettingsArgs(     riskWindowEnd = 365,     minTimeAtRisk = 364   ),   populationCmSettings = createPopulationCmSettingsArgs(     removeDuplicateSubjects = \"keep first\",     removeSubjectsWithPriorOutcome = TRUE,     riskWindowStart = 1,     riskWindowEnd = 9999,     minDaysAtRisk = 1   ) )"},{"path":"https://ohdsi.github.io/RiskStratifiedEstimation/articles/StudyExample.html","id":"run-settings","dir":"Articles","previous_headings":"Study implementation > Study script creation","what":"Run settings","title":"Study example","text":"Finally, need define settings based algorithms prediction estimation steps run. example, prediction step need define prediction algorithm used along hyperparameter parameter search strategy. estimation step settings need define propensity score method used estimation effects within risk strata time point assess absolute relative risk differences. Since mostly deal time--event data means absolute risk reduction esimtated absed difference Kaplan-Meier estimates specific time point. run settings can created :","code":"runSettings <- createRunSettings(   runPlpSettings = createRunPlpSettingsArgs(),   runCmSettings = createRunCmSettingsArgs(     psMethod = \"stratifyByPs\",     effectEstimationSettings = createStratifyByPsAndCovariatesArgs(),     psSettings = createCreatePsArgs(),     fitOutcomeModelsThreads = 2,     timePoint = 365   ) )"},{"path":"https://ohdsi.github.io/RiskStratifiedEstimation/articles/StudyExample.html","id":"perform-the-analysis","dir":"Articles","previous_headings":"Study implementation > Study script creation","what":"Perform the analysis","title":"Study example","text":"Now defined required settings objects, can proceed running actual analysis. One last setting required location temporary files stored. user needs read write permission. Run analysis follows: analysis usually take smome time complete. results saved hard drive analysisSettings$saveDirectory/analysisSettings$analysisId","code":"result <- runRiskStratifiedEstimation(   connectionDetails = connectionDetails,   analysisSettings = analysisSettings,   databaseSettings = databaseSettings,   getDataSettings = getDataSettings,   covariateSettings = covariateSettings,   populationSettings = populationSettings,   runSettings = runSettings,   tempDir = \"path/to/temporary/directory\" )"},{"path":"https://ohdsi.github.io/RiskStratifiedEstimation/articles/StudyExample.html","id":"evaluation-of-results","dir":"Articles","previous_headings":"","what":"Evaluation of results","title":"Study example","text":"overall results saved sub-directory called “shiny”. user can interactively explore results performed analysis using shiny application. launch , following command can used:","code":"rseeViewer(\"path/to/shiny/directory\")"},{"path":"https://ohdsi.github.io/RiskStratifiedEstimation/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Alexandros Rekkas. Author, maintainer.","code":""},{"path":"https://ohdsi.github.io/RiskStratifiedEstimation/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Rekkas (2023). RiskStratifiedEstimation: Risk Stratified Effect Estimation. R package version 1.0.0, https://ohdsi.github.io/RiskStratifiedEstimation/.","code":"@Manual{,   title = {RiskStratifiedEstimation: Risk Stratified Effect Estimation},   author = {Alexandros Rekkas},   year = {2023},   note = {R package version 1.0.0},   url = {https://ohdsi.github.io/RiskStratifiedEstimation/}, }"},{"path":[]},{"path":"https://ohdsi.github.io/RiskStratifiedEstimation/index.html","id":"introduction","dir":"","previous_headings":"","what":"Introduction","title":"Risk Stratified Effect Estimation","text":"RiskStratifiedEstimation R package implementing risk stratified analyses assessment treatment effect heterogeneity observational database OMOP Common Data Model. package combines functionality PatientLevelPrediction CohortMethod R packages. framework applied 5 steps: 1. Definition research problem: Requires definition (least) three cohorts. treatment cohort instructions patients considered receiving treatment interest; comparator cohort instructions patients considered receiving comparator treatment; one () outcome cohort(s) instructions patients considered outcome(s) interest. 2. Database identification: Databases mapped OMOP-CDM cohort definitions applied order generate study population. 3. Prediction: Develop one () prediction model(s) outcome(s) interest pooled treatment comparator cohorts database. 4. Estimation: Run diagnostincs derive estimates relative absolute treatment effects within strata predicted risk. 5. Presentation results: Plot relative absolute treatment effect estimates derived databases summarize.","code":""},{"path":"https://ohdsi.github.io/RiskStratifiedEstimation/index.html","id":"features","dir":"","previous_headings":"","what":"Features","title":"Risk Stratified Effect Estimation","text":"Extracts necessary data database OMOP Common Data Model format. Uses large set covariates prediction, propensity outcome model, including example drugs, diagnoses, procedures, well age, comorbidity indexes, etc. Imports functionality PatientLevelPrediction package development prediction models risk stratification. Large scale regularized regression fit propensity outcome models. Includes diagnostic functions prediction process, including calibration plots ROC curves demostrating performance developed prediction models sub-populations interest. Includes diagnostic functions estimation process, including propensity score distribution plots plots showing covariate balance performing propensity score-based analysis.","code":""},{"path":"https://ohdsi.github.io/RiskStratifiedEstimation/index.html","id":"technology","dir":"","previous_headings":"","what":"Technology","title":"Risk Stratified Effect Estimation","text":"RiskStratifiedEstimation developed R.","code":""},{"path":"https://ohdsi.github.io/RiskStratifiedEstimation/index.html","id":"system-requirements","dir":"","previous_headings":"","what":"System Requirements","title":"Risk Stratified Effect Estimation","text":"Requires R (version 3.1.0 higher). Installation Windows requires RTools. Libraries used RiskStratifiedEstimation require Java.","code":""},{"path":"https://ohdsi.github.io/RiskStratifiedEstimation/index.html","id":"dependencies-hades","dir":"","previous_headings":"","what":"Dependencies (HADES)","title":"Risk Stratified Effect Estimation","text":"Cyclops DatabaseConnector SqlRender FeatureExtraction ParallelLogger CohortMethod PatientLevelPrediction EmpiricalCalibration","code":""},{"path":"https://ohdsi.github.io/RiskStratifiedEstimation/index.html","id":"getting-started","dir":"","previous_headings":"","what":"Getting Started","title":"Risk Stratified Effect Estimation","text":"Windows, make sure RTools installed. DatabaseConnector SqlRender packages require Java. Java can downloaded http://www.java.com. Java installed, ensure Java pathed correctly. environment variables control panel, ensure jvm.dll file added correctly path. R, use following commands download install RiskStratifiedEstimation:","code":"install.packages(\"remotes\") remotes::install_github(\"OHDSI/RiskStratifiedEstimation\")"},{"path":"https://ohdsi.github.io/RiskStratifiedEstimation/index.html","id":"getting-involved","dir":"","previous_headings":"","what":"Getting Involved","title":"Risk Stratified Effect Estimation","text":"Vignette: Study example Package manual: RiskStratifiedEstimation.pdf Developer questions/comments/feedback: OHDSI Forum use GitHub issue tracker bugs/issues/enhancements","code":""},{"path":"https://ohdsi.github.io/RiskStratifiedEstimation/index.html","id":"license","dir":"","previous_headings":"","what":"License","title":"Risk Stratified Effect Estimation","text":"RiskStratifiedEstimation licensed Apache License 2.0","code":""},{"path":"https://ohdsi.github.io/RiskStratifiedEstimation/index.html","id":"development","dir":"","previous_headings":"","what":"Development","title":"Risk Stratified Effect Estimation","text":"RiskStratifiedEstimation developed R Studio. RiskStratifiedEstimation still beta phase.","code":""},{"path":"https://ohdsi.github.io/RiskStratifiedEstimation/reference/absoluteRiskReduction.html","id":null,"dir":"Reference","previous_headings":"","what":"Absolute risk reduction — absoluteRiskReduction","title":"Absolute risk reduction — absoluteRiskReduction","text":"Calculates absolute risk reduction based Kaplan-Meier estimates within risk strata","code":""},{"path":"https://ohdsi.github.io/RiskStratifiedEstimation/reference/absoluteRiskReduction.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Absolute risk reduction — absoluteRiskReduction","text":"","code":"absoluteRiskReduction(population, timePoint, psMethod)"},{"path":"https://ohdsi.github.io/RiskStratifiedEstimation/reference/absoluteRiskReduction.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Absolute risk reduction — absoluteRiskReduction","text":"population study population generated matchOnPs using propensity score matching stratifyByPs stratifying propensity score. case inverse probability treatment weighting approach, datframe weights column. timePoint time absolute risk difference estimated psMethod Can one \"matchOnPs\", \"stratifyByPs\" \"inversePtWeighted\".","code":""},{"path":"https://ohdsi.github.io/RiskStratifiedEstimation/reference/absoluteRiskReduction.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Absolute risk reduction — absoluteRiskReduction","text":"dataframe absolute risk-stratum specific absolute risk difference estimates,                           along 95 percent confidence interval.","code":""},{"path":"https://ohdsi.github.io/RiskStratifiedEstimation/reference/computeCovariateBalance.html","id":null,"dir":"Reference","previous_headings":"","what":"Compute covariate balance — computeCovariateBalance","title":"Compute covariate balance — computeCovariateBalance","text":"Compute covariate balance                             adjustment propensity scores.","code":""},{"path":"https://ohdsi.github.io/RiskStratifiedEstimation/reference/computeCovariateBalance.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Compute covariate balance — computeCovariateBalance","text":"","code":"computeCovariateBalance(   population,   cohorts,   covariates,   covariateRef,   subgroupCovariateId = NULL )"},{"path":"https://ohdsi.github.io/RiskStratifiedEstimation/reference/computeCovariateBalance.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Compute covariate balance — computeCovariateBalance","text":"population data frame containing people remaining matching /trimming. cohorts cohorts CohortMethodData object. covariates covariates CovariateData object. covariateRef covariate reference CovariateData object. subgroupCovariateId Optional: covariate ID binary covariate indicates subgroup interest. populations restricted subgroup computing covariate balance.","code":""},{"path":"https://ohdsi.github.io/RiskStratifiedEstimation/reference/computeCovariateBalance.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Compute covariate balance — computeCovariateBalance","text":"tibble covariate balance                             matching/trimming.","code":""},{"path":"https://ohdsi.github.io/RiskStratifiedEstimation/reference/computeIncidence.html","id":null,"dir":"Reference","previous_headings":"","what":"Compute incidence — computeIncidence","title":"Compute incidence — computeIncidence","text":"Computes incidence specific population","code":""},{"path":"https://ohdsi.github.io/RiskStratifiedEstimation/reference/computeIncidence.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Compute incidence — computeIncidence","text":"","code":"computeIncidence(   population,   alpha = 0.05,   power = 0.8,   twoSided = TRUE,   modelType = \"cox\" )"},{"path":"https://ohdsi.github.io/RiskStratifiedEstimation/reference/computeIncidence.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Compute incidence — computeIncidence","text":"population data frame describing study population created using createStudyPopulation function. least columns: personSeqId, treatment, outcomeCount, timeAtRisk. alpha Type error. power 1 - beta, beta type II error. twoSided Consider two-sided test? modelType type outcome model used. Possible values \"logistic\", \"poisson\", \"cox\". Currently \"cox\" supported.","code":""},{"path":"https://ohdsi.github.io/RiskStratifiedEstimation/reference/computeIncidence.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Compute incidence — computeIncidence","text":"tibble derived incidence.","code":""},{"path":"https://ohdsi.github.io/RiskStratifiedEstimation/reference/computeIncidenceOverall.html","id":null,"dir":"Reference","previous_headings":"","what":"Compute risk stratified incidence — computeIncidenceOverall","title":"Compute risk stratified incidence — computeIncidenceOverall","text":"Compute risk stratified incidence specific stratification                  outcome.","code":""},{"path":"https://ohdsi.github.io/RiskStratifiedEstimation/reference/computeIncidenceOverall.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Compute risk stratified incidence — computeIncidenceOverall","text":"","code":"computeIncidenceOverall(   path,   alpha = 0.05,   power = 0.8,   twoSided = TRUE,   modelType = \"cox\" )"},{"path":"https://ohdsi.github.io/RiskStratifiedEstimation/reference/computeIncidenceOverall.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Compute risk stratified incidence — computeIncidenceOverall","text":"path path propensity scores object (list propensity scores risk stratum). alpha Type error. power 1 - beta, beta type II error. twoSided Consider two-sided test? modelType type outcome model used. Possible values \"logistic\", \"poisson\", \"cox\". Currently \"cox\" supported.","code":""},{"path":"https://ohdsi.github.io/RiskStratifiedEstimation/reference/computeRseeCovariateBalance.html","id":null,"dir":"Reference","previous_headings":"","what":"Compute risk stratified covariate balance — computeRseeCovariateBalance","title":"Compute risk stratified covariate balance — computeRseeCovariateBalance","text":"Computes covariate balance within strata predicted                         risk specified analyses","code":""},{"path":"https://ohdsi.github.io/RiskStratifiedEstimation/reference/computeRseeCovariateBalance.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Compute risk stratified covariate balance — computeRseeCovariateBalance","text":"","code":"computeRseeCovariateBalance(analysisSettings, getDataSettings)"},{"path":"https://ohdsi.github.io/RiskStratifiedEstimation/reference/computeRseeCovariateBalance.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Compute risk stratified covariate balance — computeRseeCovariateBalance","text":"analysisSettings analysis settings. created using createAnalysisSettings getDataSettings getDataSettings object cohortMethodDataFolder pointing location CohortMethodData object stored.","code":""},{"path":"https://ohdsi.github.io/RiskStratifiedEstimation/reference/computeRseeCovariateBalance.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Compute risk stratified covariate balance — computeRseeCovariateBalance","text":"value returned. covariate balance results                         stored proper locations.","code":""},{"path":"https://ohdsi.github.io/RiskStratifiedEstimation/reference/computeRseeIncidence.html","id":null,"dir":"Reference","previous_headings":"","what":"Compute risk stratified incidence for all analyses — computeRseeIncidence","title":"Compute risk stratified incidence for all analyses — computeRseeIncidence","text":"Computes risk stratified incidence analyses              defined setting study.","code":""},{"path":"https://ohdsi.github.io/RiskStratifiedEstimation/reference/computeRseeIncidence.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Compute risk stratified incidence for all analyses — computeRseeIncidence","text":"","code":"computeRseeIncidence(analysisSettings)"},{"path":"https://ohdsi.github.io/RiskStratifiedEstimation/reference/computeRseeIncidence.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Compute risk stratified incidence for all analyses — computeRseeIncidence","text":"analysisSettings analysisSettings object created createAnalysisSettings","code":""},{"path":"https://ohdsi.github.io/RiskStratifiedEstimation/reference/createAnalysisSettings.html","id":null,"dir":"Reference","previous_headings":"","what":"Create a parameter defining the performed risk stratified analysis — createAnalysisSettings","title":"Create a parameter defining the performed risk stratified analysis — createAnalysisSettings","text":"Create parameter defining performed risk stratified analysis","code":""},{"path":"https://ohdsi.github.io/RiskStratifiedEstimation/reference/createAnalysisSettings.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create a parameter defining the performed risk stratified analysis — createAnalysisSettings","text":"","code":"createAnalysisSettings(   analysisId = NULL,   description = \"\",   databaseName,   treatmentCohortId,   comparatorCohortId,   outcomeIds,   analysisMatrix = diag(length(outcomeIds)),   mapTreatments,   mapOutcomes,   negativeControlOutcomes = c(),   balanceThreads = 1,   negativeControlThreads = 1,   verbosity = NULL,   saveDirectory = NULL )"},{"path":"https://ohdsi.github.io/RiskStratifiedEstimation/reference/createAnalysisSettings.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create a parameter defining the performed risk stratified analysis — createAnalysisSettings","text":"analysisId analysis ID. description Text describing analysis. databaseName name database. treatmentCohortId cohort definition id treatment cohort cohortTable. comparatorCohortId cohort definition id comparator cohort cohortTable. outcomeIds cohort definition ids outcome cohorts outcomeTable. analysisMatrix Boolean matrix defining outcomes assessed (rows) within risk strata (columns). order columns match order outcomeIds. Default diagonal matrix, leads risk stratified assessment outcome risk strata defined. mapTreatments Dataframe containing 2 columns: \"exposure_id\" id numbers treatment comparator cohorts \"exposure_name\" cohort names. mapOutcomes Dataframe containing 2 columns: \"outcome_id\" cohort names outcomes interest \"outcome_name\" names. negativeControlOutcomes outcome Ids used negative controls balanceThreads number threads used estimation covariate balance negativeControlThreads number threads used running negative control analyses verbosity Sets level verbosity. log level higher priority logger threshold, message print. levels : DEBUGHighest verbosity showing debug statements TRACEShowing information start end steps INFOShow informative information (Default) WARNShow warning messages ERRORShow error messages FATALBe silent except fatal errors saveDirectory directory name results analyses stored.","code":""},{"path":"https://ohdsi.github.io/RiskStratifiedEstimation/reference/createAnalysisSettings.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create a parameter defining the performed risk stratified analysis — createAnalysisSettings","text":"analysisSettings object providing identification information analysis.","code":""},{"path":"https://ohdsi.github.io/RiskStratifiedEstimation/reference/createCreateIPWArgs.html","id":null,"dir":"Reference","previous_headings":"","what":"Create a parameter object for the function createIPW Create an object defining the parameter\nvalues. — createCreateIPWArgs","title":"Create a parameter object for the function createIPW Create an object defining the parameter\nvalues. — createCreateIPWArgs","text":"Create parameter object function createIPW Create object defining parameter values.","code":""},{"path":"https://ohdsi.github.io/RiskStratifiedEstimation/reference/createCreateIPWArgs.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create a parameter object for the function createIPW Create an object defining the parameter\nvalues. — createCreateIPWArgs","text":"","code":"createCreateIPWArgs(   weightsType = \"ATE\",   useStabilizedWeights = TRUE,   truncationLevels = c(0.01, 0.99) )"},{"path":"https://ohdsi.github.io/RiskStratifiedEstimation/reference/createCreateIPWArgs.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create a parameter object for the function createIPW Create an object defining the parameter\nvalues. — createCreateIPWArgs","text":"weightsType type weights used. Allowed options 'ATE' average treatment effect 'ATT' average treatment effect treated weights useStabilizedWeights stabilized weights used? truncationLevels level truncation expressed percentiles propensity score.","code":""},{"path":"https://ohdsi.github.io/RiskStratifiedEstimation/reference/createCreatePsArgs.html","id":null,"dir":"Reference","previous_headings":"","what":"Create a parameter object for the function createPs — createCreatePsArgs","title":"Create a parameter object for the function createPs — createCreatePsArgs","text":"Create parameter object function createPs","code":""},{"path":"https://ohdsi.github.io/RiskStratifiedEstimation/reference/createCreatePsArgs.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create a parameter object for the function createPs — createCreatePsArgs","text":"","code":"createCreatePsArgs(   excludeCovariateIds = c(),   includeCovariateIds = c(),   maxCohortSizeForFitting = 250000,   errorOnHighCorrelation = TRUE,   stopOnError = TRUE,   prior = createPrior(\"laplace\", exclude = c(0), useCrossValidation = TRUE),   control = createControl(noiseLevel = \"silent\", cvType = \"auto\", tolerance = 2e-07,     cvRepetitions = 10, startingVariance = 0.01) )"},{"path":"https://ohdsi.github.io/RiskStratifiedEstimation/reference/createCreatePsArgs.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create a parameter object for the function createPs — createCreatePsArgs","text":"excludeCovariateIds Exclude covariates propensity model. includeCovariateIds Include covariates propensity model. maxCohortSizeForFitting target comparator cohort larger number, downsampled fitting propensity model. model used compute propensity scores subjects. purpose sampling gain speed. Setting number 0 means downsampling applied. errorOnHighCorrelation true, function test covariate correlation treatment assignment. covariate unusually highcorrelation (either positive negative), throw error. stopOnError error occurrs, function stop? Else, two cohorts assumed perfectly separable. prior prior used fit model. See createPrior details. control control object used control cross-validation used determine hyperparameters prior (applicable). See createControl details.","code":""},{"path":"https://ohdsi.github.io/RiskStratifiedEstimation/reference/createCreatePsArgs.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create a parameter object for the function createPs — createCreatePsArgs","text":"parameter object creating propensity scores.","code":""},{"path":"https://ohdsi.github.io/RiskStratifiedEstimation/reference/createCreatePsArgs.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Create a parameter object for the function createPs — createCreatePsArgs","text":"Create object defining parameter values.","code":""},{"path":"https://ohdsi.github.io/RiskStratifiedEstimation/reference/createDatabaseSettings.html","id":null,"dir":"Reference","previous_headings":"","what":"Create parameter object for database to be reached — createDatabaseSettings","title":"Create parameter object for database to be reached — createDatabaseSettings","text":"Create parameter object database reached","code":""},{"path":"https://ohdsi.github.io/RiskStratifiedEstimation/reference/createDatabaseSettings.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create parameter object for database to be reached — createDatabaseSettings","text":"","code":"createDatabaseSettings(   cdmVersion = \"5\",   cdmDatabaseSchema,   databaseName,   cohortDatabaseSchema = cdmDatabaseSchema,   outcomeDatabaseSchema = cdmDatabaseSchema,   resultsDatabaseSchema = cdmDatabaseSchema,   exposureDatabaseSchema = cdmDatabaseSchema,   tempEmulationSchema = cdmDatabaseSchema,   cohortTable,   outcomeTable,   exposureTable = \"drug_era\",   mergedCohortTable,   targetCohortId = 1 )"},{"path":"https://ohdsi.github.io/RiskStratifiedEstimation/reference/createDatabaseSettings.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create parameter object for database to be reached — createDatabaseSettings","text":"cdmVersion Define OMOP CDM version cdmDatabaseSchema name database schema contains OMOP CDM instance. Requires read permissions database. SQL Server, specify database schema, example \"cdm_instance.dbo\" databaseName name database. cohortDatabaseSchema name database schema location cohort data used define risk cohort available. cohortTable = DRUG_ERA, cohortDatabaseSchema used assumed cdmDatabaseSchema. outcomeDatabaseSchema name database schema location data used define outcome cohorts available. cohortTable = CONDITION_ERA, exposureDatabaseSchema used assumed cdmSchema. Requires read permissions database. resultsDatabaseSchema name database schema write permissions. exposureDatabaseSchema Input function getDbCohortMethodData: name database schema location exposure data used define exposure cohorts available. tempEmulationSchema database platforms like Oracle Impala truly support temp tables. emulate temp tables, provide schema write privileges temp tables can created. cohortTable tablename contains risk cohort. cohortTable <> DRUG_ERA, expectation cohortTable format COHORT table: cohort_concept_id, SUBJECT_ID, COHORT_START_DATE, COHORT_END_DATE. outcomeTable tablename contains outcome cohorts. outcomeTable <> CONDITION_OCCURRENCE, expectation outcomeTable format COHORT table: COHORT_DEFINITION_ID, SUBJECT_ID, COHORT_START_DATE, COHORT_END_DATE. exposureTable tablename contains exposure cohorts. exposureTable <> DRUG_ERA, expectation exposureTable format COHORT table: cohort_concept_id, SUBJECT_ID, COHORT_START_DATE, COHORT_END_DATE. mergedCohortTable name table merged treatment comparator cohorts stored. targetCohortId cohort definition id merged cohort mergedCohortTable.","code":""},{"path":"https://ohdsi.github.io/RiskStratifiedEstimation/reference/createGetCmDataArgs.html","id":null,"dir":"Reference","previous_headings":"","what":"Create a parameter object for the function getDbCohortMethodData — createGetCmDataArgs","title":"Create a parameter object for the function getDbCohortMethodData — createGetCmDataArgs","text":"Create parameter object function getDbCohortMethodData","code":""},{"path":"https://ohdsi.github.io/RiskStratifiedEstimation/reference/createGetCmDataArgs.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create a parameter object for the function getDbCohortMethodData — createGetCmDataArgs","text":"","code":"createGetCmDataArgs(   studyStartDate = \"\",   studyEndDate = \"\",   excludeDrugsFromCovariates = TRUE,   firstExposureOnly = FALSE,   removeDuplicateSubjects = FALSE,   restrictToCommonPeriod = FALSE,   washoutPeriod = 0,   maxCohortSize = 0 )"},{"path":"https://ohdsi.github.io/RiskStratifiedEstimation/reference/createGetCmDataArgs.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create a parameter object for the function getDbCohortMethodData — createGetCmDataArgs","text":"studyStartDate calendar date specifying minimum date cohort index date can appear. Date format 'yyyymmdd'. studyEndDate calendar date specifying maximum date cohort index date can appear. Date format 'yyyymmdd'. Important: study end data also used truncate risk windows, meaning outcomes beyond study end date considered. excludeDrugsFromCovariates target comparator drugs (descendant concepts) excluded covariates? Note work drugs actualy drug concept IDs (cohortIDs). firstExposureOnly first exposure per subject included? Note typically done createStudyPopulationfunction, can already done efficiency reasons. removeDuplicateSubjects Remove subjects target comparator cohort? See details allowed values.Note typically done createStudyPopulation function, can already done efficiency reasons. restrictToCommonPeriod Restrict analysis period treatments observed? washoutPeriod mininum required continuous observation time prior index date person included cohort. Note thisis typically done createStudyPopulation function, can already done efficiency reasons. maxCohortSize either target comparator cohort larger number sampled size. maxCohortSize = 0 indicates maximum size.","code":""},{"path":"https://ohdsi.github.io/RiskStratifiedEstimation/reference/createGetCmDataArgs.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Create a parameter object for the function getDbCohortMethodData — createGetCmDataArgs","text":"Create object defining parameter values.","code":""},{"path":"https://ohdsi.github.io/RiskStratifiedEstimation/reference/createGetCovariateSettings.html","id":null,"dir":"Reference","previous_headings":"","what":"Create the parameter object for extracting the covariates Contains the arguments for the extraction\nof both the covariates related to the prediction step and the estimation step. — createGetCovariateSettings","title":"Create the parameter object for extracting the covariates Contains the arguments for the extraction\nof both the covariates related to the prediction step and the estimation step. — createGetCovariateSettings","text":"Create parameter object extracting covariates Contains arguments extraction covariates related prediction step estimation step.","code":""},{"path":"https://ohdsi.github.io/RiskStratifiedEstimation/reference/createGetCovariateSettings.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create the parameter object for extracting the covariates Contains the arguments for the extraction\nof both the covariates related to the prediction step and the estimation step. — createGetCovariateSettings","text":"","code":"createGetCovariateSettings(   covariateSettingsCm = FeatureExtraction::createCovariateSettings(),   covariateSettingsPlp = FeatureExtraction::createCovariateSettings() )"},{"path":"https://ohdsi.github.io/RiskStratifiedEstimation/reference/createGetCovariateSettings.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create the parameter object for extracting the covariates Contains the arguments for the extraction\nof both the covariates related to the prediction step and the estimation step. — createGetCovariateSettings","text":"covariateSettingsCm covariate settings object related estimation step created createCovariateSettings. covariateSettingsPlp covariate settings objec related prediction step created createCovariateSettings.","code":""},{"path":"https://ohdsi.github.io/RiskStratifiedEstimation/reference/createGetDataSettings.html","id":null,"dir":"Reference","previous_headings":"","what":"Create parameter object for extracting the data — createGetDataSettings","title":"Create parameter object for extracting the data — createGetDataSettings","text":"Create parameter object extracting data","code":""},{"path":"https://ohdsi.github.io/RiskStratifiedEstimation/reference/createGetDataSettings.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create parameter object for extracting the data — createGetDataSettings","text":"","code":"createGetDataSettings(   getPlpDataSettings = createGetPlpDataArgs(),   getCmDataSettings = createGetCmDataArgs(),   plpDataFolder = NULL,   cohortMethodDataFolder = NULL )"},{"path":"https://ohdsi.github.io/RiskStratifiedEstimation/reference/createGetDataSettings.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create parameter object for extracting the data — createGetDataSettings","text":"getPlpDataSettings Parameter object extraction plpData object created createGetPlpDataArgs. getCmDataSettings Parameter object extraction cohortMethodData object created createGetPlpDataArgs. plpDataFolder directory path plpData object already saved locally. cohortMethodDataFolder directory path cohortMethodData object already saved locally.","code":""},{"path":"https://ohdsi.github.io/RiskStratifiedEstimation/reference/createGetPlpDataArgs.html","id":null,"dir":"Reference","previous_headings":"","what":"Create a parameter object for the function getPlpData — createGetPlpDataArgs","title":"Create a parameter object for the function getPlpData — createGetPlpDataArgs","text":"Create parameter object function getPlpData","code":""},{"path":"https://ohdsi.github.io/RiskStratifiedEstimation/reference/createGetPlpDataArgs.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create a parameter object for the function getPlpData — createGetPlpDataArgs","text":"","code":"createGetPlpDataArgs(   studyStartDate = \"\",   studyEndDate = \"\",   firstExposureOnly = FALSE,   washoutPeriod = 0,   excludeDrugsFromCovariates = FALSE )"},{"path":"https://ohdsi.github.io/RiskStratifiedEstimation/reference/createGetPlpDataArgs.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create a parameter object for the function getPlpData — createGetPlpDataArgs","text":"studyStartDate calendar date specifying minimum date cohort index date can appear. Date format 'yyyymmdd'. studyEndDate calendar date specifying maximum date cohort index date can appear. Date format 'yyyymmdd'. Important: studyEnd data also used truncate risk windows, meaning outcomes beyond study end date considered. firstExposureOnly first exposure per subject included? Note typically done createStudyPopulation function, can already done efficiency reasons. washoutPeriod mininum required continuous observation time prior index date person included risk cohort. Note typically done createStudyPopulation function,can already done efficiency reasons. excludeDrugsFromCovariates redundant option","code":""},{"path":"https://ohdsi.github.io/RiskStratifiedEstimation/reference/createGetPlpDataArgs.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Create a parameter object for the function getPlpData — createGetPlpDataArgs","text":"Create object defining parameter values.","code":""},{"path":"https://ohdsi.github.io/RiskStratifiedEstimation/reference/createIPW.html","id":null,"dir":"Reference","previous_headings":"","what":"Creates Inverse Probability Weights — createIPW","title":"Creates Inverse Probability Weights — createIPW","text":"Calcuates inverse probability weights based propensity score","code":""},{"path":"https://ohdsi.github.io/RiskStratifiedEstimation/reference/createIPW.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Creates Inverse Probability Weights — createIPW","text":"","code":"createIPW(   ps,   weightsType = \"ATE\",   useStabilizedWeights = TRUE,   truncationLevels = c(0.01, 0.99) )"},{"path":"https://ohdsi.github.io/RiskStratifiedEstimation/reference/createIPW.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Creates Inverse Probability Weights — createIPW","text":"ps propensity score data frame created createPs weightsType type weights used. Allowed options 'ATE' average treatment effect 'ATT' average treatment effect treated weights useStabilizedWeights stabilized weights used? truncationLevels level truncation expressed percentiles propensity score.","code":""},{"path":"https://ohdsi.github.io/RiskStratifiedEstimation/reference/createIPW.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Creates Inverse Probability Weights — createIPW","text":"ps data frame provided input along weights column","code":""},{"path":"https://ohdsi.github.io/RiskStratifiedEstimation/reference/createMatchOnPsArgs.html","id":null,"dir":"Reference","previous_headings":"","what":"Create a parameter object for the function matchOnPs — createMatchOnPsArgs","title":"Create a parameter object for the function matchOnPs — createMatchOnPsArgs","text":"Create parameter object function matchOnPs","code":""},{"path":"https://ohdsi.github.io/RiskStratifiedEstimation/reference/createMatchOnPsArgs.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create a parameter object for the function matchOnPs — createMatchOnPsArgs","text":"","code":"createMatchOnPsArgs(   caliper = 0.2,   caliperScale = \"standardized logit\",   maxRatio = 1,   stratificationColumns = c() )"},{"path":"https://ohdsi.github.io/RiskStratifiedEstimation/reference/createMatchOnPsArgs.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create a parameter object for the function matchOnPs — createMatchOnPsArgs","text":"caliper caliper matching. caliper distance acceptable match. Observations outside caliper dropped. caliper 0 means caliper used. caliperScale scale caliper defined. Three scales supported: caliperScale = 'propensity score', caliperScale ='standardized', caliperScale = 'standardized logit'. standardized scale, caliper interpreted standard deviations propensity score distribution. 'standardized logit'similar, except propensity score transformed logitscale PS likely normally distributed scale(Austin, 2011). maxRatio maximum number persons int comparator arm matched person treatment arm. maxRatio 0 means maximum:comparators assigned target person. stratificationColumns Names numbers one columns data data.frameon subjects stratified prior matching. persons matched persons outside strata identified values columns.","code":""},{"path":"https://ohdsi.github.io/RiskStratifiedEstimation/reference/createMatchOnPsArgs.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Create a parameter object for the function matchOnPs — createMatchOnPsArgs","text":"Create object defining parameter values.","code":""},{"path":"https://ohdsi.github.io/RiskStratifiedEstimation/reference/createOverallResults.html","id":null,"dir":"Reference","previous_headings":"","what":"Combines the overall results — createOverallResults","title":"Combines the overall results — createOverallResults","text":"Combines overall results","code":""},{"path":"https://ohdsi.github.io/RiskStratifiedEstimation/reference/createOverallResults.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Combines the overall results — createOverallResults","text":"","code":"createOverallResults(analysisSettings)"},{"path":"https://ohdsi.github.io/RiskStratifiedEstimation/reference/createOverallResults.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Combines the overall results — createOverallResults","text":"analysisSettings R object type analysisSettings created using function createAnalysisSettings.","code":""},{"path":"https://ohdsi.github.io/RiskStratifiedEstimation/reference/createOverallResults.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Combines the overall results — createOverallResults","text":"Stores overall results along required data lauch shiny                                   application `shiny` directory","code":""},{"path":"https://ohdsi.github.io/RiskStratifiedEstimation/reference/createPopulationSettings.html","id":null,"dir":"Reference","previous_headings":"","what":"Create parameter object for defining the analysis populations Contains the settings for defining\nboth the populationPlp and the populationCm objects. — createPopulationSettings","title":"Create parameter object for defining the analysis populations Contains the settings for defining\nboth the populationPlp and the populationCm objects. — createPopulationSettings","text":"Create parameter object defining analysis populations Contains settings defining populationPlp populationCm objects.","code":""},{"path":"https://ohdsi.github.io/RiskStratifiedEstimation/reference/createPopulationSettings.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create parameter object for defining the analysis populations Contains the settings for defining\nboth the populationPlp and the populationCm objects. — createPopulationSettings","text":"","code":"createPopulationSettings(   populationPlpSettings = PatientLevelPrediction::createStudyPopulationSettings(),   populationCmSettings = CohortMethod::createCreateStudyPopulationArgs(),   postProcessing = \"none\" )"},{"path":"https://ohdsi.github.io/RiskStratifiedEstimation/reference/createPopulationSettings.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create parameter object for defining the analysis populations Contains the settings for defining\nboth the populationPlp and the populationCm objects. — createPopulationSettings","text":"populationPlpSettings Parameter object definition populationPlp object created createStudyPopulationSettings. populationCmSettings Parameter object definition populationCm object created createCreateStudyPopulationArgs. postProcessing function run initial population creating prediction estimation populations","code":""},{"path":"https://ohdsi.github.io/RiskStratifiedEstimation/reference/createRunCmAnalysesArgs.html","id":null,"dir":"Reference","previous_headings":"","what":"Create a parameter object for defining the estimation analyses. — createRunCmAnalysesArgs","title":"Create a parameter object for defining the estimation analyses. — createRunCmAnalysesArgs","text":"Create parameter object defining estimation analyses.","code":""},{"path":"https://ohdsi.github.io/RiskStratifiedEstimation/reference/createRunCmAnalysesArgs.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create a parameter object for defining the estimation analyses. — createRunCmAnalysesArgs","text":"","code":"createRunCmAnalysesArgs(   label = NULL,   riskStratificationMethod = \"equal\",   stratificationOutcomes = \"all\",   riskStratificationThresholds = 4,   psMethod = \"stratifyByPs\",   effectEstimationSettings = createStratifyByPsArgs(),   timePoint = 365 )"},{"path":"https://ohdsi.github.io/RiskStratifiedEstimation/reference/createRunCmAnalysesArgs.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create a parameter object for defining the estimation analyses. — createRunCmAnalysesArgs","text":"label single-word description analysis. riskStratificationMethod Can \"equal\" equal-sized risk strata; \"quantile\" user-specified risk quantiles thresholds; \"custom\" user-specified risk thresholds stratificationOutcomes outcome IDs risk stratification carried . subset stratification outcomes defined `analysisSettings`. Default \"\". riskStratificationThresholds thresholds used risk stratification. `riskStratificationMethod` \"equal\" single number denoting number equal-sized risk subgroups; `riskStratificationMethod` \"quantile\", vector 0 1 (increasing); `riskStratificationMethod` \"custom\", vector predicted probabilities used thresholds psMethod propensity scores used? Can one \"stratifyByPs\" \"matchOnPs\". effectEstimationSettings Parameter object providing settings implementation selected psMethod estimation process. Can created using one createStratifyByPsArgs stratifyByPs selected createMatchOnPsArgs matchOnPs selected. timePoint time point cohort start absolute differences estimated.","code":""},{"path":"https://ohdsi.github.io/RiskStratifiedEstimation/reference/createRunCmAnalysesArgs.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create a parameter object for defining the estimation analyses. — createRunCmAnalysesArgs","text":"parameter object running estimation step.","code":""},{"path":"https://ohdsi.github.io/RiskStratifiedEstimation/reference/createRunCmSettingsArgs.html","id":null,"dir":"Reference","previous_headings":"","what":"Create a parameter object for running the estimation step — createRunCmSettingsArgs","title":"Create a parameter object for running the estimation step — createRunCmSettingsArgs","text":"Create parameter object running estimation step. function used create computational part input createRunSettings.","code":""},{"path":"https://ohdsi.github.io/RiskStratifiedEstimation/reference/createRunCmSettingsArgs.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create a parameter object for running the estimation step — createRunCmSettingsArgs","text":"","code":"createRunCmSettingsArgs(   analyses,   psSettings = createCreatePsArgs(),   createPsThreads = 1,   fitOutcomeModelsThreads = 1,   balanceThreads = 1,   negativeControlThreads = 1,   runRiskStratifiedNcs = FALSE )"},{"path":"https://ohdsi.github.io/RiskStratifiedEstimation/reference/createRunCmSettingsArgs.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create a parameter object for running the estimation step — createRunCmSettingsArgs","text":"analyses list analyses run. element list can creaeted using createRunCmAnalysesArgs createPs psSettings settings estimating propensity scores createPsThreads number parallel threads estimation propensity scores. Default 1. fitOutcomeModelsThreads number parallel threads estimation outcome models. balanceThreads number parallel threads estimation covariate balance negativeControlThreads number parallel threads negative control analyses runRiskStratifiedNcs risk stratified negative control analyses performed? Default FALSE can take long time complete.","code":""},{"path":"https://ohdsi.github.io/RiskStratifiedEstimation/reference/createRunCmSettingsArgs.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create a parameter object for running the estimation step — createRunCmSettingsArgs","text":"parameter object running estimation step.","code":""},{"path":"https://ohdsi.github.io/RiskStratifiedEstimation/reference/createRunExistingPlpSettingsArgs.html","id":null,"dir":"Reference","previous_headings":"","what":"Create prediction settings for an existing model — createRunExistingPlpSettingsArgs","title":"Create prediction settings for an existing model — createRunExistingPlpSettingsArgs","text":"Create prediction settings existing model","code":""},{"path":"https://ohdsi.github.io/RiskStratifiedEstimation/reference/createRunExistingPlpSettingsArgs.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create prediction settings for an existing model — createRunExistingPlpSettingsArgs","text":"","code":"createRunExistingPlpSettingsArgs(   outcomeId,   plpResultDirectory,   predictionSettings = list() )"},{"path":"https://ohdsi.github.io/RiskStratifiedEstimation/reference/createRunExistingPlpSettingsArgs.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create prediction settings for an existing model — createRunExistingPlpSettingsArgs","text":"outcomeId outcome ID existing model. plpResultDirectory directory existing model store.d predictionSettings list prediction settings.","code":""},{"path":"https://ohdsi.github.io/RiskStratifiedEstimation/reference/createRunPlpAnalysesArgs.html","id":null,"dir":"Reference","previous_headings":"","what":"Create a parameter object for the function runPlp — createRunPlpAnalysesArgs","title":"Create a parameter object for the function runPlp — createRunPlpAnalysesArgs","text":"Create parameter object function runPlp","code":""},{"path":"https://ohdsi.github.io/RiskStratifiedEstimation/reference/createRunPlpAnalysesArgs.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create a parameter object for the function runPlp — createRunPlpAnalysesArgs","text":"","code":"createRunPlpAnalysesArgs(   outcomeId = NULL,   splitSettings = PatientLevelPrediction::createDefaultSplitSetting(),   sampleSettings = PatientLevelPrediction::createSampleSettings(),       featureEngineeringSettings = PatientLevelPrediction::createFeatureEngineeringSettings(),   preprocessSettings = PatientLevelPrediction::createPreprocessSettings(),   modelSettings = PatientLevelPrediction::setLassoLogisticRegression(),   logSettings = PatientLevelPrediction::createLogSettings(),   executeSettings = PatientLevelPrediction::createDefaultExecuteSettings(),   matchingSettings = CohortMethod::createMatchOnPsArgs(),   timepoint = NULL )"},{"path":"https://ohdsi.github.io/RiskStratifiedEstimation/reference/createRunPlpAnalysesArgs.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create a parameter object for the function runPlp — createRunPlpAnalysesArgs","text":"outcomeId outcomeId prediction. splitSettings object type splitSettings specifies split data train/validation/test. default settings can created using createDefaultSplitSetting sampleSettings object type sampleSettings specifies /sampling done. created createSampleSettings featureEngineeringSettings object featureEngineeringSettings specifying feature engineering learned (using train data) preprocessSettings object preprocessSettings. setting specifies minimum fraction target population must covariate included model training whether normalise covariates training. created createPreprocessSettings. modelSettings object class modelSettings. logSettings object logSettings created using createLogSettings specifying logging done. executeSettings object type executeSettings specifying parts analysis run. created using createExecuteSettings. matchingSettings settings construction population prediction model developed. timepoint timepoint predict risk (survival models )","code":""},{"path":"https://ohdsi.github.io/RiskStratifiedEstimation/reference/createRunPlpAnalysesArgs.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Create a parameter object for the function runPlp — createRunPlpAnalysesArgs","text":"Create object defining parameter values.","code":""},{"path":"https://ohdsi.github.io/RiskStratifiedEstimation/reference/createRunPlpSettingsArgs.html","id":null,"dir":"Reference","previous_headings":"","what":"Create run settings for prediction — createRunPlpSettingsArgs","title":"Create run settings for prediction — createRunPlpSettingsArgs","text":"Create run settings prediction","code":""},{"path":"https://ohdsi.github.io/RiskStratifiedEstimation/reference/createRunPlpSettingsArgs.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create run settings for prediction — createRunPlpSettingsArgs","text":"","code":"createRunPlpSettingsArgs(   analyses = list(),   defaultSettings = createRunPlpAnalysesArgs() )"},{"path":"https://ohdsi.github.io/RiskStratifiedEstimation/reference/createRunPlpSettingsArgs.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create run settings for prediction — createRunPlpSettingsArgs","text":"analyses list settings prediction risk stratification outcomes. defaultSettings object type runPlpAnalysesArgs used default settings outcome risk prediction. created createRunPlpAnalysesArgs","code":""},{"path":"https://ohdsi.github.io/RiskStratifiedEstimation/reference/createRunPlpSettingsArgs.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create run settings for prediction — createRunPlpSettingsArgs","text":"object type runPlpSettingsArgs passed                         createRunSettings","code":""},{"path":"https://ohdsi.github.io/RiskStratifiedEstimation/reference/createRunSettings.html","id":null,"dir":"Reference","previous_headings":"","what":"Create a settings object for running the analyses Create the settings for running the analyses. The\ninput consists of two parts: 1) the settings for running the prediction algorithms and 2) the\nsettings for estimating treatment effects within strata of predicted risk. — createRunSettings","title":"Create a settings object for running the analyses Create the settings for running the analyses. The\ninput consists of two parts: 1) the settings for running the prediction algorithms and 2) the\nsettings for estimating treatment effects within strata of predicted risk. — createRunSettings","text":"Create settings object running analyses Create settings running analyses. input consists two parts: 1) settings running prediction algorithms 2) settings estimating treatment effects within strata predicted risk.","code":""},{"path":"https://ohdsi.github.io/RiskStratifiedEstimation/reference/createRunSettings.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create a settings object for running the analyses Create the settings for running the analyses. The\ninput consists of two parts: 1) the settings for running the prediction algorithms and 2) the\nsettings for estimating treatment effects within strata of predicted risk. — createRunSettings","text":"","code":"createRunSettings(   runPlpSettings = createRunPlpSettingsArgs(),   runCmSettings = createRunCmSettingsArgs() )"},{"path":"https://ohdsi.github.io/RiskStratifiedEstimation/reference/createRunSettings.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create a settings object for running the analyses Create the settings for running the analyses. The\ninput consists of two parts: 1) the settings for running the prediction algorithms and 2) the\nsettings for estimating treatment effects within strata of predicted risk. — createRunSettings","text":"runPlpSettings parameterer object type runPlpSettingsArgs defined using function createRunPlpSettingsArgs. runCmSettings parameter object type runCmSettingsArgs defined using function createRunCmSettingsArgs","code":""},{"path":"https://ohdsi.github.io/RiskStratifiedEstimation/reference/createRunSettings.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create a settings object for running the analyses Create the settings for running the analyses. The\ninput consists of two parts: 1) the settings for running the prediction algorithms and 2) the\nsettings for estimating treatment effects within strata of predicted risk. — createRunSettings","text":"R object type runSettings","code":""},{"path":"https://ohdsi.github.io/RiskStratifiedEstimation/reference/createStratifyByPsArgs.html","id":null,"dir":"Reference","previous_headings":"","what":"Create a parameter object for the function stratifyByPs — createStratifyByPsArgs","title":"Create a parameter object for the function stratifyByPs — createStratifyByPsArgs","text":"Create parameter object function stratifyByPs","code":""},{"path":"https://ohdsi.github.io/RiskStratifiedEstimation/reference/createStratifyByPsArgs.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create a parameter object for the function stratifyByPs — createStratifyByPsArgs","text":"","code":"createStratifyByPsArgs(   numberOfStrata = 5,   stratificationColumns = c(),   baseSelection = \"all\" )"},{"path":"https://ohdsi.github.io/RiskStratifiedEstimation/reference/createStratifyByPsArgs.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create a parameter object for the function stratifyByPs — createStratifyByPsArgs","text":"numberOfStrata many strata? boundaries strata automatically defined contain equal numbers target persons. stratificationColumns Names one columns data data.frame subjects also stratified addition stratification propensity score. baseSelection base selection subjects strata bounds areto determined? Strata defined equally-sized strata inside selection. Possible values \"\", \"target\", \"comparator\".","code":""},{"path":"https://ohdsi.github.io/RiskStratifiedEstimation/reference/createStratifyByPsArgs.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Create a parameter object for the function stratifyByPs — createStratifyByPsArgs","text":"Create object defining parameter values.","code":""},{"path":"https://ohdsi.github.io/RiskStratifiedEstimation/reference/estimateTreatmentEffect.html","id":null,"dir":"Reference","previous_headings":"","what":"Estimate treatment effects within risk strata — estimateTreatmentEffect","title":"Estimate treatment effects within risk strata — estimateTreatmentEffect","text":"Estimates treatment effects within risk strata based length list ps.","code":""},{"path":"https://ohdsi.github.io/RiskStratifiedEstimation/reference/estimateTreatmentEffect.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Estimate treatment effects within risk strata — estimateTreatmentEffect","text":"","code":"estimateTreatmentEffect(ps, analysis)"},{"path":"https://ohdsi.github.io/RiskStratifiedEstimation/reference/estimateTreatmentEffect.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Estimate treatment effects within risk strata — estimateTreatmentEffect","text":"ps list objects created createPs estimated within risk strata. analysis analysis object.","code":""},{"path":"https://ohdsi.github.io/RiskStratifiedEstimation/reference/estimateTreatmentEffect.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Estimate treatment effects within risk strata — estimateTreatmentEffect","text":"list containing :  relativeRiskReductionHazard ratios along confidence intervals within risk                             strata absoluteRiskReductionAbsolute risk differences along confidence intervals                             within risk strata casesObserved outcome proportions within risk strata modelsThe models used estimate relative risk reduction within risk strata","code":""},{"path":"https://ohdsi.github.io/RiskStratifiedEstimation/reference/fitOutcomeModels.html","id":null,"dir":"Reference","previous_headings":"","what":"Fit outcome models — fitOutcomeModels","title":"Fit outcome models — fitOutcomeModels","text":"Fits outcome models within risk strata, estimating relative absolute differences. Designed performed within parellelized analysis.","code":""},{"path":"https://ohdsi.github.io/RiskStratifiedEstimation/reference/fitOutcomeModels.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Fit outcome models — fitOutcomeModels","text":"","code":"fitOutcomeModels(outcomeId, getDataSettings, pathToPs, analysis)"},{"path":"https://ohdsi.github.io/RiskStratifiedEstimation/reference/fitOutcomeModels.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Fit outcome models — fitOutcomeModels","text":"outcomeId outcome interest esitmation performed. outcome risk stratification performed. getDataSettings R object type getDataSettings created using function createGetDataSettings. pathToPs path RSEE analysis results. analysis analysis object contained runCmSettings","code":""},{"path":"https://ohdsi.github.io/RiskStratifiedEstimation/reference/fitOutcomeModelsOverall.html","id":null,"dir":"Reference","previous_headings":"","what":"Fit overall outcome model — fitOutcomeModelsOverall","title":"Fit overall outcome model — fitOutcomeModelsOverall","text":"Fits outcome models within risk strata, estimating relative absolute differences. Designed performed within parellelized analysis.","code":""},{"path":"https://ohdsi.github.io/RiskStratifiedEstimation/reference/fitOutcomeModelsOverall.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Fit overall outcome model — fitOutcomeModelsOverall","text":"","code":"fitOutcomeModelsOverall(   outcomeId,   analysisSettings,   getDataSettings,   runCmSettings )"},{"path":"https://ohdsi.github.io/RiskStratifiedEstimation/reference/fitOutcomeModelsOverall.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Fit overall outcome model — fitOutcomeModelsOverall","text":"outcomeId outcome interest esitmation performed. outcome risk stratification performed. analysisSettings R object type analysisSettings created using function createAnalysisSettings. getDataSettings R object type getDataSettings created using function createGetDataSettings. runCmSettings parameter object type runCmSettingsArgs defined using function createRunCmSettingsArgs","code":""},{"path":"https://ohdsi.github.io/RiskStratifiedEstimation/reference/fitOutcomeModelsOverall.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Fit overall outcome model — fitOutcomeModelsOverall","text":"NULL. results saved.","code":""},{"path":"https://ohdsi.github.io/RiskStratifiedEstimation/reference/fitPsModel.html","id":null,"dir":"Reference","previous_headings":"","what":"Calculate propensity scores for a specific outcome — fitPsModel","title":"Calculate propensity scores for a specific outcome — fitPsModel","text":"Fits large-scale regularized regression model estimate propensity scores within predicted risk strata. Designed applied parallelized analysis.","code":""},{"path":"https://ohdsi.github.io/RiskStratifiedEstimation/reference/fitPsModel.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Calculate propensity scores for a specific outcome — fitPsModel","text":"","code":"fitPsModel(   outcomeId,   initialPopulation,   runSettings,   getDataSettings,   populationSettings,   analysisSettings )"},{"path":"https://ohdsi.github.io/RiskStratifiedEstimation/reference/fitPsModel.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Calculate propensity scores for a specific outcome — fitPsModel","text":"outcomeId outcome interest esitmation performed. outcome risk stratification performed. initialPopulation initial population subset propensity scores estimated. runSettings R object type runSettings created using function createRunSettings. getDataSettings R object type getDataSettings created using function createGetDataSettings. populationSettings R object type populationSettings created using function createPopulationSettings. analysisSettings R object type analysisSettings created using function createAnalysisSettings.","code":""},{"path":"https://ohdsi.github.io/RiskStratifiedEstimation/reference/fitPsModel.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Calculate propensity scores for a specific outcome — fitPsModel","text":"NULL. results saved.","code":""},{"path":"https://ohdsi.github.io/RiskStratifiedEstimation/reference/fitPsModelOverall.html","id":null,"dir":"Reference","previous_headings":"","what":"Calculate propensity scores for a specific outcome — fitPsModelOverall","title":"Calculate propensity scores for a specific outcome — fitPsModelOverall","text":"Fits large-scale regularized regression model estimate propensity scores within predicted risk strata. Designed applied parallelized analysis.","code":""},{"path":"https://ohdsi.github.io/RiskStratifiedEstimation/reference/fitPsModelOverall.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Calculate propensity scores for a specific outcome — fitPsModelOverall","text":"","code":"fitPsModelOverall(   outcomeId,   initialPopulation,   getDataSettings,   populationSettings,   analysisSettings,   runCmSettings,   isNegativeControl = FALSE )"},{"path":"https://ohdsi.github.io/RiskStratifiedEstimation/reference/fitPsModelOverall.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Calculate propensity scores for a specific outcome — fitPsModelOverall","text":"outcomeId outcome interest risk stratification performed. initialPopulation reference population object, usually defined joining cohorts fo plpData cohortMethodData objects. getDataSettings R object type getDataSettings created using function createGetDataSettings. populationSettings R object type covariateSettings created using function createPopulationSettings analysisSettings R object type analysisSettings created using function createAnalysisSettings. runCmSettings parameter object type runCmSettingsArgs defined using function createRunCmSettingsArgs isNegativeControl analysis performed negative control?","code":""},{"path":"https://ohdsi.github.io/RiskStratifiedEstimation/reference/fitPsModelOverall.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Calculate propensity scores for a specific outcome — fitPsModelOverall","text":"NULL. results saved.","code":""},{"path":"https://ohdsi.github.io/RiskStratifiedEstimation/reference/fitPsModelSwitch.html","id":null,"dir":"Reference","previous_headings":"","what":"Fits switched propensity score models — fitPsModelSwitch","title":"Fits switched propensity score models — fitPsModelSwitch","text":"Fits propensity score models population stratified based prediction model certain outcome interest estimation focused different outcome","code":""},{"path":"https://ohdsi.github.io/RiskStratifiedEstimation/reference/fitPsModelSwitch.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Fits switched propensity score models — fitPsModelSwitch","text":"","code":"fitPsModelSwitch(   predictOutcome,   compareOutcome,   initialPopulation,   analysisSettings,   getDataSettings,   populationSettings,   runSettings )"},{"path":"https://ohdsi.github.io/RiskStratifiedEstimation/reference/fitPsModelSwitch.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Fits switched propensity score models — fitPsModelSwitch","text":"predictOutcome outcome prediction step compareOutcome outcome interest estimation step initialPopulation initial population used estimation switched-outcome propensity scores. analysisSettings R object type analysisSettings created using function createAnalysisSettings. getDataSettings R object type getDataSettings created using function createGetDataSettings. populationSettings R object type populationSettings created using function createPopulationSettings. runSettings R object type runSettings created using function createRunSettings.","code":""},{"path":"https://ohdsi.github.io/RiskStratifiedEstimation/reference/outcomeModelWeighted.html","id":null,"dir":"Reference","previous_headings":"","what":"Fits a weighted cox regression model — outcomeModelWeighted","title":"Fits a weighted cox regression model — outcomeModelWeighted","text":"Fits weighted cox regression model using inverse probability treatment weighting approach","code":""},{"path":"https://ohdsi.github.io/RiskStratifiedEstimation/reference/outcomeModelWeighted.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Fits a weighted cox regression model — outcomeModelWeighted","text":"","code":"outcomeModelWeighted(   ps,   calculateWeights = TRUE,   weightsType = \"ATE\",   useStabilizedWeights = TRUE,   truncationLevels )"},{"path":"https://ohdsi.github.io/RiskStratifiedEstimation/reference/outcomeModelWeighted.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Fits a weighted cox regression model — outcomeModelWeighted","text":"ps dataframe wiht propensity scores generated createPs. calculateWeights weights calculated? weightsType type weights balancing covariates. either 'ATE' 'ATT' useStabilizedWeights stabilized weights used? truncationLevels level truncation expressed percentiles propensity score.","code":""},{"path":"https://ohdsi.github.io/RiskStratifiedEstimation/reference/outcomeModelWeighted.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Fits a weighted cox regression model — outcomeModelWeighted","text":"weighted cox regression model.","code":""},{"path":"https://ohdsi.github.io/RiskStratifiedEstimation/reference/pipe.html","id":null,"dir":"Reference","previous_headings":"","what":"Pipe operator — %>%","title":"Pipe operator — %>%","text":"See magrittr::%>% details.","code":""},{"path":"https://ohdsi.github.io/RiskStratifiedEstimation/reference/pipe.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Pipe operator — %>%","text":"","code":"lhs %>% rhs"},{"path":"https://ohdsi.github.io/RiskStratifiedEstimation/reference/prepareForPlpData.html","id":null,"dir":"Reference","previous_headings":"","what":"Prepares for the running the PatientLevelPrediction package — prepareForPlpData","title":"Prepares for the running the PatientLevelPrediction package — prepareForPlpData","text":"Prepares running PatientLevelPrediction package merging treatment comparator cohorts defining new covariate treatment.","code":""},{"path":"https://ohdsi.github.io/RiskStratifiedEstimation/reference/prepareForPlpData.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Prepares for the running the PatientLevelPrediction package — prepareForPlpData","text":"","code":"prepareForPlpData(   treatmentCohortId,   comparatorCohortId,   targetCohortId,   cohortDatabaseSchema,   cohortTable,   resultsDatabaseSchema,   mergedCohortTable,   connectionDetails )"},{"path":"https://ohdsi.github.io/RiskStratifiedEstimation/reference/prepareForPlpData.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Prepares for the running the PatientLevelPrediction package — prepareForPlpData","text":"treatmentCohortId treatment cohort id comparatorCohortId comparator cohort id targetCohortId id merged cohorts cohortDatabaseSchema name database schema location cohort data used define risk cohort available cohortTable table contains treatment comparator cohorts. resultsDatabaseSchema name database schema store new tables. Need write access. mergedCohortTable table contain computeIncidenceAnalysis connectionDetails connection details required connect adatabase.","code":""},{"path":"https://ohdsi.github.io/RiskStratifiedEstimation/reference/prepareForPlpData.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Prepares for the running the PatientLevelPrediction package — prepareForPlpData","text":"Creates tables resultsDatabaseSchema.mergedCohortTable,         resultsDatabaseSchema.attributeDefinitionTable         resultsDatabaseSchema.cohortAttributeTable","code":""},{"path":"https://ohdsi.github.io/RiskStratifiedEstimation/reference/prepareMultipleRseeViewer.html","id":null,"dir":"Reference","previous_headings":"","what":"Prepare shiny viewer — prepareMultipleRseeViewer","title":"Prepare shiny viewer — prepareMultipleRseeViewer","text":"Combines results multiple analyses shiny application.","code":""},{"path":"https://ohdsi.github.io/RiskStratifiedEstimation/reference/prepareMultipleRseeViewer.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Prepare shiny viewer — prepareMultipleRseeViewer","text":"","code":"prepareMultipleRseeViewer(analysisSettingsList, saveDirectory)"},{"path":"https://ohdsi.github.io/RiskStratifiedEstimation/reference/prepareMultipleRseeViewer.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Prepare shiny viewer — prepareMultipleRseeViewer","text":"analysisSettingsList list targeted analysisSettings. saveDirectory directory results written.","code":""},{"path":"https://ohdsi.github.io/RiskStratifiedEstimation/reference/relativeRiskReduction.html","id":null,"dir":"Reference","previous_headings":"","what":"Relative risk reduction — relativeRiskReduction","title":"Relative risk reduction — relativeRiskReduction","text":"Calculates hazard ratios within risk strata.","code":""},{"path":"https://ohdsi.github.io/RiskStratifiedEstimation/reference/relativeRiskReduction.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Relative risk reduction — relativeRiskReduction","text":"","code":"relativeRiskReduction(model)"},{"path":"https://ohdsi.github.io/RiskStratifiedEstimation/reference/relativeRiskReduction.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Relative risk reduction — relativeRiskReduction","text":"model model used fit cox regression model data.","code":""},{"path":"https://ohdsi.github.io/RiskStratifiedEstimation/reference/relativeRiskReduction.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Relative risk reduction — relativeRiskReduction","text":"dataframe hazard ratios treatment effect across risk strata along 95 percent                 confidence intervals","code":""},{"path":"https://ohdsi.github.io/RiskStratifiedEstimation/reference/rseeViewer.html","id":null,"dir":"Reference","previous_headings":"","what":"Risk stratified effect estimation viewer — rseeViewer","title":"Risk stratified effect estimation viewer — rseeViewer","text":"Launches shiny application exploration results","code":""},{"path":"https://ohdsi.github.io/RiskStratifiedEstimation/reference/rseeViewer.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Risk stratified effect estimation viewer — rseeViewer","text":"","code":"rseeViewer(analysisPath)"},{"path":"https://ohdsi.github.io/RiskStratifiedEstimation/reference/rseeViewer.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Risk stratified effect estimation viewer — rseeViewer","text":"analysisPath shiny directory results stored.","code":""},{"path":"https://ohdsi.github.io/RiskStratifiedEstimation/reference/runRiskStratifiedEstimation.html","id":null,"dir":"Reference","previous_headings":"","what":"Runs a risk stratified analysis — runRiskStratifiedEstimation","title":"Runs a risk stratified analysis — runRiskStratifiedEstimation","text":"Runs risk stratified analysis two stages. first runs prediction algorithm using PatientLevelPrediction derive baseline patient risks derives estimates within risk strata incorporating functionality CohortMethod package.","code":""},{"path":"https://ohdsi.github.io/RiskStratifiedEstimation/reference/runRiskStratifiedEstimation.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Runs a risk stratified analysis — runRiskStratifiedEstimation","text":"","code":"runRiskStratifiedEstimation(   connectionDetails,   analysisSettings,   databaseSettings,   getDataSettings,   covariateSettings,   populationSettings,   runSettings )"},{"path":"https://ohdsi.github.io/RiskStratifiedEstimation/reference/runRiskStratifiedEstimation.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Runs a risk stratified analysis — runRiskStratifiedEstimation","text":"connectionDetails R object type connectionDetails created using function createConnectionDetails. analysisSettings R object type analysisSettings created using function createAnalysisSettings. databaseSettings R object type databaseSettings created using function createDatabaseSettings. getDataSettings R object type getDataSettings created using function createGetDataSettings. covariateSettings R object type covariateSettings created using function createCovariateSettings. populationSettings R object type populationSettings created using function createPopulationSettings. runSettings R object type runSettings created using function createRunSettings.","code":""},{"path":"https://ohdsi.github.io/RiskStratifiedEstimation/reference/runRiskStratifiedEstimation.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Runs a risk stratified analysis — runRiskStratifiedEstimation","text":"function saves results based analysisSettings.                                   results returned.","code":""},{"path":"https://ohdsi.github.io/RiskStratifiedEstimation/reference/stratifiedKaplanMeier.html","id":null,"dir":"Reference","previous_headings":"","what":"Calculate stratified Kaplan-Meier estimates — stratifiedKaplanMeier","title":"Calculate stratified Kaplan-Meier estimates — stratifiedKaplanMeier","text":"Calculate stratified Kaplan-Meier estimates","code":""},{"path":"https://ohdsi.github.io/RiskStratifiedEstimation/reference/stratifiedKaplanMeier.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Calculate stratified Kaplan-Meier estimates — stratifiedKaplanMeier","text":"","code":"stratifiedKaplanMeier(population, timePoint)"},{"path":"https://ohdsi.github.io/RiskStratifiedEstimation/reference/stratifiedKaplanMeier.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Calculate stratified Kaplan-Meier estimates — stratifiedKaplanMeier","text":"population population interest stratified using stratifyByPs timePoint point time absolute risk difference required","code":""},{"path":"https://ohdsi.github.io/RiskStratifiedEstimation/reference/stratifiedKaplanMeier.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Calculate stratified Kaplan-Meier estimates — stratifiedKaplanMeier","text":"vector absolute risk difference along lowest highest limits                                  95 percent confidence interval","code":""}]
